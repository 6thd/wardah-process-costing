# โก ุฏููู ุงูุฅุตูุงุญ ุงูุณุฑูุน - ุฎุทูุงุช ุนูููุฉ ููุฑูุฉ

**ููุจุฏุก ููุฑุงู ูู ุฅุตูุงุญ ูุธุงู ูุฑุฏุฉ ERP**

---

## ๐ฏ ุงููุฏู
ุฅุตูุงุญ ุงููุดุงูู ุงูุญุฑุฌุฉ ูู **3-5 ุฃูุงู** ูุฌุนู ุงููุธุงู ูุงุจู ููุงุณุชุฎุฏุงู.

---

## ๐ ูุจู ุงูุจุฏุก (15 ุฏูููุฉ)

### 1. ุนูู Backup ูุงูู
```bash
# ูู Supabase Dashboard:
# Project Settings > Database > Database Backups > Manual Backup
```

### 2. ุงูุชุญูู ูู ุงูุฃุฏูุงุช ุงููุทููุจุฉ
```bash
# ุชุญูู ูู Node.js
node --version  # ูุฌุจ ุฃู ูููู 18+

# ุชุญูู ูู npm
npm --version  # ูุฌุจ ุฃู ูููู 9+

# ุชุญูู ูู git
git --version
```

### 3. ุงูุชุญูู ูู ุงูุงุชุตุงู ุจู Supabase
```bash
# ุงูุชุญ config.json ูุชุญูู ูู:
# - SUPABASE_URL
# - SUPABASE_ANON_KEY
# - SUPABASE_SERVICE_KEY
```

---

## ๐ด ุงูููู ุงูุฃูู: ุฅุตูุงุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฎุทูุฉ 1: ุฅุตูุงุญ Tenant ID (90 ุฏูููุฉ)

#### 1.1 ุชุดุฎูุต ุงููุดููุฉ
ุงูุชุญ Supabase SQL Editor ูุดุบู:

```sql
-- ูุญุต ุงูุจูุงูุงุช ุงูุญุงููุฉ
SELECT 
  'Total Accounts' as metric,
  COUNT(*) as count
FROM gl_accounts
UNION ALL
SELECT 
  'Accounts with NULL tenant_id',
  COUNT(*)
FROM gl_accounts
WHERE tenant_id IS NULL
UNION ALL
SELECT 
  'Unique tenant_ids',
  COUNT(DISTINCT tenant_id)
FROM gl_accounts
WHERE tenant_id IS NOT NULL;

-- ูุญุต ุงููุณุชุฎุฏููู ูุงูููุธูุงุช
SELECT 
  'Total Users' as metric,
  COUNT(*) as count
FROM auth.users
UNION ALL
SELECT 
  'Users with Organization',
  COUNT(DISTINCT user_id)
FROM user_organizations;
```

#### 1.2 ุชุทุจูู ุงูุฅุตูุงุญ
ุดุบู ูุฐุง ุงูุณูุฑูุจุช **ูุฑุฉ ูุงุญุฏุฉ ููุท**:

```sql
-- ===================================
-- ุฅุตูุงุญ ุดุงูู ููุดููุฉ Tenant ID
-- ===================================

BEGIN;

-- 1. ุฅูุดุงุก ููุธูุฉ ุงูุชุฑุงุถูุฉ
INSERT INTO organizations (
  id,
  name,
  name_ar,
  code,
  is_active,
  created_at,
  updated_at
)
VALUES (
  '00000000-0000-0000-0000-000000000001',
  'Wardah Factory',
  'ูุตูุน ูุฑุฏุฉ',
  'WF-001',
  true,
  NOW(),
  NOW()
)
ON CONFLICT (id) DO UPDATE
SET 
  name = EXCLUDED.name,
  name_ar = EXCLUDED.name_ar,
  is_active = true,
  updated_at = NOW();

-- 2. ุชุญุฏูุซ ุฌููุน ุงูุญุณุงุจุงุช ุงูุชู tenant_id ูููุง NULL
UPDATE gl_accounts
SET 
  tenant_id = '00000000-0000-0000-0000-000000000001',
  updated_at = NOW()
WHERE tenant_id IS NULL;

-- 3. ุฑุจุท ุฌููุน ุงููุณุชุฎุฏููู ุจุงูููุธูุฉ ุงูุงูุชุฑุงุถูุฉ
INSERT INTO user_organizations (user_id, org_id, role, created_at, updated_at)
SELECT 
  u.id,
  '00000000-0000-0000-0000-000000000001'::UUID,
  'admin',
  NOW(),
  NOW()
FROM auth.users u
ON CONFLICT (user_id, org_id) 
DO UPDATE SET 
  role = 'admin',
  updated_at = NOW();

-- 4. ุฅุถุงูุฉ NOT NULL constraint ุนูู tenant_id
ALTER TABLE gl_accounts
ALTER COLUMN tenant_id SET NOT NULL;

-- 5. ุฅุถุงูุฉ default value
ALTER TABLE gl_accounts
ALTER COLUMN tenant_id 
SET DEFAULT '00000000-0000-0000-0000-000000000001'::UUID;

COMMIT;

-- ุชุญูู ูู ุงููุชุงุฆุฌ
SELECT 
  'After Fix: Total Accounts' as status,
  COUNT(*) as count
FROM gl_accounts
UNION ALL
SELECT 
  'After Fix: NULL tenant_id',
  COUNT(*)
FROM gl_accounts
WHERE tenant_id IS NULL;
```

#### 1.3 ุงูุชุญูู ูู ุงููุฌุงุญ
```sql
-- ูุฌุจ ุฃู ุชููู ุงููุชูุฌุฉ:
-- After Fix: Total Accounts | ~190
-- After Fix: NULL tenant_id  | 0

-- ุชุญูู ูู ุฑุจุท ุงููุณุชุฎุฏููู
SELECT 
  u.email,
  uo.org_id,
  o.name as org_name,
  uo.role
FROM auth.users u
JOIN user_organizations uo ON u.id = uo.user_id
JOIN organizations o ON uo.org_id = o.id;
```

โ **ูุนูุงุฑ ุงููุฌุงุญ:** ูุง ููุฌุฏ ุญุณุงุจุงุช ุจู tenant_id = NULL

---

### ุงูุฎุทูุฉ 2: ุชุจุณูุท RLS Policies (60 ุฏูููุฉ)

#### 2.1 ุญุฐู ุงูุณูุงุณุงุช ุงููุนูุฏุฉ
```sql
-- ุญุฐู ุฌููุน ุงูุณูุงุณุงุช ุงูุญุงููุฉ ุนูู gl_accounts
DROP POLICY IF EXISTS "Users can view accounts in their organization" ON gl_accounts;
DROP POLICY IF EXISTS "Users can insert accounts" ON gl_accounts;
DROP POLICY IF EXISTS "Users can update accounts" ON gl_accounts;
DROP POLICY IF EXISTS "Users can delete accounts" ON gl_accounts;
-- ุฃุถู ุฃู ุณูุงุณุงุช ุฃุฎุฑู ุชุนุฑููุง
```

#### 2.2 ุฅูุดุงุก ุณูุงุณุงุช ุจุณูุทุฉ ููุงุถุญุฉ
```sql
-- ===================================
-- ุณูุงุณุงุช RLS ุงูุจุณูุทุฉ ูู gl_accounts
-- ===================================

-- ุณูุงุณุฉ ุงููุฑุงุกุฉ (ุงูุฌููุน ูููููู ูุฑุงุกุฉ ุญุณุงุจุงุช ููุธูุชูู)
CREATE POLICY "select_gl_accounts_policy"
ON gl_accounts
FOR SELECT
USING (
  tenant_id IN (
    SELECT org_id 
    FROM user_organizations 
    WHERE user_id = auth.uid()
  )
);

-- ุณูุงุณุฉ ุงูุฅุถุงูุฉ (admin ู accountant ููุท)
CREATE POLICY "insert_gl_accounts_policy"
ON gl_accounts
FOR INSERT
WITH CHECK (
  tenant_id IN (
    SELECT org_id 
    FROM user_organizations 
    WHERE user_id = auth.uid()
    AND role IN ('admin', 'accountant')
  )
);

-- ุณูุงุณุฉ ุงูุชุญุฏูุซ (admin ู accountant ููุท)
CREATE POLICY "update_gl_accounts_policy"
ON gl_accounts
FOR UPDATE
USING (
  tenant_id IN (
    SELECT org_id 
    FROM user_organizations 
    WHERE user_id = auth.uid()
    AND role IN ('admin', 'accountant')
  )
);

-- ุณูุงุณุฉ ุงูุญุฐู (admin ููุท)
CREATE POLICY "delete_gl_accounts_policy"
ON gl_accounts
FOR DELETE
USING (
  tenant_id IN (
    SELECT org_id 
    FROM user_organizations 
    WHERE user_id = auth.uid()
    AND role = 'admin'
  )
);

-- ุชุฃูุฏ ูู ุชูุนูู RLS
ALTER TABLE gl_accounts ENABLE ROW LEVEL SECURITY;
```

#### 2.3 ุชุทุจูู ููุณ ุงูููุทู ุนูู ุจุงูู ุงูุฌุฏุงูู
```sql
-- ูุฑุฑ ููุณ ุงูุณูุงุณุงุช ูุฌุฏุงูู:
-- - manufacturing_orders
-- - purchase_orders
-- - sales_orders
-- - inventory items
-- ุฅูุฎ...
```

โ **ูุนูุงุฑ ุงููุฌุงุญ:** ููููู ูุฑุงุกุฉ ุงูุจูุงูุงุช ูู ุงูู Dashboard

---

### ุงูุฎุทูุฉ 3: ุชุทุจูู Materialized Path (120 ุฏูููุฉ)

#### 3.1 ุชูุนูู ltree extension
```sql
CREATE EXTENSION IF NOT EXISTS ltree;
```

#### 3.2 ุฅุถุงูุฉ ุนููุฏ path
```sql
-- ุฅุถุงูุฉ ุงูุนููุฏ
ALTER TABLE gl_accounts 
ADD COLUMN IF NOT EXISTS path ltree;

-- ุฅูุดุงุก index ููุฃุฏุงุก
CREATE INDEX IF NOT EXISTS idx_gl_accounts_path 
ON gl_accounts USING GIST (path);

-- ุฅูุดุงุก index ุฅุถุงูู
CREATE INDEX IF NOT EXISTS idx_gl_accounts_parent_code 
ON gl_accounts (parent_code);
```

#### 3.3 ุฅูุดุงุก function ูุญุณุงุจ path
```sql
CREATE OR REPLACE FUNCTION calculate_account_path(account_code TEXT)
RETURNS ltree
LANGUAGE plpgsql
AS $$
DECLARE
  parent_path ltree;
  current_parent_code TEXT;
  path_result TEXT;
BEGIN
  -- ุฅุฐุง ูู ููู ูู parentุ path = code ููุณู
  SELECT parent_code INTO current_parent_code
  FROM gl_accounts
  WHERE code = account_code;
  
  IF current_parent_code IS NULL OR current_parent_code = '' THEN
    RETURN account_code::ltree;
  END IF;
  
  -- ุงุญุณุจ path ุงูู parent ุจุดูู recursive
  SELECT path INTO parent_path
  FROM gl_accounts
  WHERE code = current_parent_code;
  
  -- ุฅุฐุง ุงูู parent ูุง ุนูุฏู pathุ ุงุญุณุจู
  IF parent_path IS NULL THEN
    parent_path := calculate_account_path(current_parent_code);
    UPDATE gl_accounts 
    SET path = parent_path 
    WHERE code = current_parent_code;
  END IF;
  
  -- path = parent_path + current_code
  RETURN (parent_path::text || '.' || account_code)::ltree;
END;
$$;
```

#### 3.4 ุชุนุจุฆุฉ path ูุฌููุน ุงูุญุณุงุจุงุช ุงูููุฌูุฏุฉ
```sql
-- ุชุนุจุฆุฉ path ููุญุณุงุจุงุช ุงูุชู ููุณ ููุง parent
UPDATE gl_accounts
SET path = code::ltree
WHERE (parent_code IS NULL OR parent_code = '')
AND path IS NULL;

-- ุชุนุจุฆุฉ path ููุญุณุงุจุงุช ุงูุจุงููุฉ (ูุฏ ูุญุชุงุฌ ุนุฏุฉ ูุฑุงุช)
DO $$
DECLARE
  updated_count INTEGER;
BEGIN
  LOOP
    UPDATE gl_accounts a
    SET path = (p.path::text || '.' || a.code)::ltree
    FROM gl_accounts p
    WHERE a.parent_code = p.code
    AND p.path IS NOT NULL
    AND a.path IS NULL;
    
    GET DIAGNOSTICS updated_count = ROW_COUNT;
    EXIT WHEN updated_count = 0;
  END LOOP;
END $$;

-- ุชุญูู ูู ุงููุชูุฌุฉ
SELECT 
  COUNT(*) FILTER (WHERE path IS NOT NULL) as with_path,
  COUNT(*) FILTER (WHERE path IS NULL) as without_path,
  COUNT(*) as total
FROM gl_accounts;
```

#### 3.5 ุฅูุดุงุก trigger ูุชุญุฏูุซ path ุชููุงุฆูุงู
```sql
CREATE OR REPLACE FUNCTION update_account_path()
RETURNS TRIGGER
LANGUAGE plpgsql
AS $$
BEGIN
  -- ุญุณุงุจ path ููุญุณุงุจ ุงูุฌุฏูุฏ/ุงููุญุฏุซ
  NEW.path := calculate_account_path(NEW.code);
  
  -- ุชุญุฏูุซ path ููุฃุจูุงุก ุฅุฐุง ุชุบูุฑ parent_code
  IF TG_OP = 'UPDATE' AND OLD.code <> NEW.code THEN
    UPDATE gl_accounts
    SET path = calculate_account_path(code)
    WHERE parent_code = NEW.code;
  END IF;
  
  RETURN NEW;
END;
$$;

-- ุฅูุดุงุก trigger
DROP TRIGGER IF EXISTS trg_update_account_path ON gl_accounts;
CREATE TRIGGER trg_update_account_path
BEFORE INSERT OR UPDATE OF code, parent_code
ON gl_accounts
FOR EACH ROW
EXECUTE FUNCTION update_account_path();
```

โ **ูุนูุงุฑ ุงููุฌุงุญ:** ุฌููุน ุงูุญุณุงุจุงุช ููุง path

---

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุงููุชุงุฆุฌ (30 ุฏูููุฉ)

```bash
# ูู Terminal
npm run dev
```

ุงูุชุญ ุงููุชุตูุญ ุนูู `http://localhost:5173` ูุชุญูู ูู:

1. โ ุฏููู ุงูุญุณุงุจุงุช ูุนุฑุถ ุฌููุน ุงูุญุณุงุจุงุช (190 ุญุณุงุจ)
2. โ ุงูุจููุฉ ุงููุฑููุฉ ุตุญูุญุฉ
3. โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Console
4. โ ููููู ุฅุถุงูุฉ/ุชุนุฏูู ุญุณุงุจ

---

## ๐ก ุงูููู ุงูุซุงูู: ุฅุตูุงุญ ุงููุตุงุฏูุฉ ูุงูุฃูุงู

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก Auth Context (60 ุฏูููุฉ)

#### 1.1 ุฅูุดุงุก ุงูููู
```bash
mkdir -p src/contexts
```

#### 1.2 ุฅูุดุงุก AuthContext.tsx
```typescript
// src/contexts/AuthContext.tsx
import { createContext, useContext, useEffect, useState, ReactNode } from 'react';
import { User, Session } from '@supabase/supabase-js';
import { getSupabase } from '@/lib/supabase';

interface AuthContextType {
  user: User | null;
  session: Session | null;
  loading: boolean;
  signOut: () => Promise<void>;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export function AuthProvider({ children }: { children: ReactNode }) {
  const [user, setUser] = useState<User | null>(null);
  const [session, setSession] = useState<Session | null>(null);
  const [loading, setLoading] = useState(true);
  
  useEffect(() => {
    const supabase = getSupabase();
    
    // Get initial session
    supabase.auth.getSession().then(({ data: { session } }) => {
      setSession(session);
      setUser(session?.user ?? null);
      setLoading(false);
    });
    
    // Listen for auth changes
    const { data: { subscription } } = supabase.auth.onAuthStateChange(
      (_event, session) => {
        setSession(session);
        setUser(session?.user ?? null);
        setLoading(false);
      }
    );
    
    return () => subscription.unsubscribe();
  }, []);
  
  const signOut = async () => {
    const supabase = getSupabase();
    await supabase.auth.signOut();
  };
  
  return (
    <AuthContext.Provider value={{ user, session, loading, signOut }}>
      {children}
    </AuthContext.Provider>
  );
}

export function useAuth() {
  const context = useContext(AuthContext);
  if (context === undefined) {
    throw new Error('useAuth must be used within AuthProvider');
  }
  return context;
}
```

#### 1.3 ุชุญุฏูุซ App.tsx
```typescript
// src/App.tsx
import { AuthProvider } from '@/contexts/AuthContext';

function App() {
  return (
    <AuthProvider>
      <QueryClientProvider client={queryClient}>
        {/* ... ุจุงูู ุงูููุฏ */}
      </QueryClientProvider>
    </AuthProvider>
  );
}
```

---

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก Protected Route (45 ุฏูููุฉ)

#### 2.1 ุฅูุดุงุก ุงููุฌูุฏ
```bash
mkdir -p src/components/auth
```

#### 2.2 ุฅูุดุงุก ProtectedRoute.tsx
```typescript
// src/components/auth/ProtectedRoute.tsx
import { Navigate, Outlet } from 'react-router-dom';
import { useAuth } from '@/contexts/AuthContext';

export function ProtectedRoute() {
  const { user, loading } = useAuth();
  
  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-screen">
        <div className="text-center">
          <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"></div>
          <p className="mt-4 text-muted-foreground">ุฌุงุฑู ุงูุชุญููู...</p>
        </div>
      </div>
    );
  }
  
  if (!user) {
    return <Navigate to="/login" replace />;
  }
  
  return <Outlet />;
}
```

#### 2.3 ุฅูุดุงุก ุตูุญุฉ Login ุจุณูุทุฉ
```typescript
// src/pages/login.tsx
import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { getSupabase } from '@/lib/supabase';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';

export function LoginPage() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');
  const navigate = useNavigate();
  
  const handleLogin = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    setError('');
    
    try {
      const supabase = getSupabase();
      const { error } = await supabase.auth.signInWithPassword({
        email,
        password
      });
      
      if (error) throw error;
      
      navigate('/dashboard');
    } catch (err: any) {
      setError(err.message || 'ูุดู ุชุณุฌูู ุงูุฏุฎูู');
    } finally {
      setLoading(false);
    }
  };
  
  return (
    <div className="flex items-center justify-center min-h-screen bg-background">
      <Card className="w-full max-w-md">
        <CardHeader>
          <CardTitle className="text-2xl text-center">
            ูุธุงู ูุฑุฏุฉ ERP
          </CardTitle>
        </CardHeader>
        <CardContent>
          <form onSubmit={handleLogin} className="space-y-4">
            <div>
              <label className="block text-sm font-medium mb-2">
                ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
              </label>
              <Input
                type="email"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                placeholder="admin@wardah.sa"
                required
              />
            </div>
            
            <div>
              <label className="block text-sm font-medium mb-2">
                ูููุฉ ุงููุฑูุฑ
              </label>
              <Input
                type="password"
                value={password}
                onChange={(e) => setPassword(e.target.value)}
                required
              />
            </div>
            
            {error && (
              <div className="p-3 bg-destructive/10 text-destructive rounded-md text-sm">
                {error}
              </div>
            )}
            
            <Button 
              type="submit" 
              className="w-full" 
              disabled={loading}
            >
              {loading ? 'ุฌุงุฑู ุชุณุฌูู ุงูุฏุฎูู...' : 'ุชุณุฌูู ุงูุฏุฎูู'}
            </Button>
          </form>
        </CardContent>
      </Card>
    </div>
  );
}
```

#### 2.4 ุชุญุฏูุซ Routes
```typescript
// src/pages/routes.tsx
import { ProtectedRoute } from '@/components/auth/ProtectedRoute';
import { LoginPage } from '@/pages/login';

export const appRouter = createBrowserRouter([
  {
    path: "/login",
    element: <LoginPage />
  },
  {
    path: "/",
    element: <ProtectedRoute />,  // ๐ ูุญูู
    children: [
      {
        element: <AppLayout />,
        children: [
          {
            index: true,
            element: <Navigate to="/dashboard" replace />,
          },
          {
            path: "dashboard/*",
            element: <DashboardModule />,
          },
          // ... ุจุงูู ุงููุณุงุฑุงุช
        ]
      }
    ]
  }
]);
```

---

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงููุตุงุฏูุฉ (15 ุฏูููุฉ)

1. **ุงุฎุชุจุงุฑ ุจุฏูู ุชุณุฌูู ุฏุฎูู:**
   - ุงูุชุญ `http://localhost:5173`
   - ูุฌุจ ุฃู ูุญููู ูุตูุญุฉ Login

2. **ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู:**
   - ุงุณุชุฎุฏู: `admin@wardah.sa` / `admin123`
   - ูุฌุจ ุฃู ูุฏุฎูู ููู Dashboard

3. **ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฎุฑูุฌ:**
   - ูู ุงูู Headerุ ุงุถุบุท Logout
   - ูุฌุจ ุฃู ูุฎุฑุฌู ูุตูุญุฉ Login

โ **ูุนูุงุฑ ุงููุฌุงุญ:** ูุง ูููู ุงูุฏุฎูู ุจุฏูู ุชุณุฌูู

---

## ๐ต ุงูููู ุงูุซุงูุซ: ุชุญุณูู ุงูุฃุฏุงุก

### ุงูุฎุทูุฉ 1: ุชุญุณูู React Query (30 ุฏูููุฉ)

```typescript
// src/App.tsx - ุชุญุฏูุซ QueryClient config
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000,      // 5 ุฏูุงุฆู
      cacheTime: 10 * 60 * 1000,     // 10 ุฏูุงุฆู
      refetchOnWindowFocus: false,
      refetchOnReconnect: false,
      retry: 1
    }
  }
});
```

---

### ุงูุฎุทูุฉ 2: ุฅุตูุงุญ Realtime Subscriptions (60 ุฏูููุฉ)

ุฅูุดุงุก custom hook:

```typescript
// src/hooks/useRealtimeSubscription.ts
import { useEffect, useRef } from 'react';
import { getSupabase } from '@/lib/supabase';
import { RealtimeChannel } from '@supabase/supabase-js';

export function useRealtimeSubscription(
  table: string,
  callback: (payload: any) => void
) {
  const channelRef = useRef<RealtimeChannel | null>(null);
  
  useEffect(() => {
    const supabase = getSupabase();
    
    // Create channel
    channelRef.current = supabase
      .channel(`${table}_changes`)
      .on(
        'postgres_changes',
        { event: '*', schema: 'public', table },
        callback
      )
      .subscribe();
    
    // Cleanup
    return () => {
      if (channelRef.current) {
        channelRef.current.unsubscribe();
      }
    };
  }, [table, callback]);
}

// ุงุณุชุฎุฏุงู ูู component:
// useRealtimeSubscription('manufacturing_orders', (payload) => {
//   queryClient.invalidateQueries(['manufacturing-orders']);
// });
```

---

## ๐ ุงูุชุญูู ุงูููุงุฆู (30 ุฏูููุฉ)

### Checklist
- [ ] ุฏููู ุงูุญุณุงุจุงุช ูุนุฑุถ ุฌููุน ุงูุจูุงูุงุช
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก Stack Depth
- [ ] ุงููุณุชุฎุฏููู ูุฑุจูุทูู ุจููุธูุงุช
- [ ] RLS ุชุนูู ุจุดูู ุตุญูุญ
- [ ] ูุง ูููู ุงูุฏุฎูู ุจุฏูู ุชุณุฌูู
- [ ] Session ุชุจูู ูุดุทุฉ
- [ ] Logout ูุนูู
- [ ] ูุง ุชูุฌุฏ warnings ูู Console
- [ ] `npm run build` ููุฌุญ
- [ ] ุงูุตูุญุงุช ุชุญูู ุจุณุฑุนุฉ

---

## ๐ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ 3 ุฃูุงู:
- โ ูุธุงู ูุนูู ุจุฏูู ุฃุฎุทุงุก ุญุฑุฌุฉ
- โ ุฏููู ุญุณุงุจุงุช ูุงูู ูุณุฑูุน
- โ ูุตุงุฏูุฉ ุขููุฉ
- โ ุฃุฏุงุก ูุญุณู

---

## ๐ ุฅุฐุง ูุงุฌูุชู ูุดููุฉ

### ูุดููุฉ: "Stack depth limit exceeded"
**ุงูุญู:** ุชุฃูุฏ ูู ุชูููุฐ ุฌููุน ุฎุทูุงุช Materialized Path

### ูุดููุฉ: "ูุง ุฃุฑู ุงูุจูุงูุงุช"
**ุงูุญู:** ุชุญูู ูู tenant_id ู user_organizations

### ูุดููุฉ: "Build fails"
**ุงูุญู:** `rm -rf node_modules && npm install`

---

**ุญุธุงู ููููุงู!** ๐
