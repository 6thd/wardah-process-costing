# ğŸ“ Ø®Ø·ÙˆØ§Øª Ø¥Ù†Ø´Ø§Ø¡ Documents Bucket

## ğŸ¯ Ø§Ù„Ù‡Ø¯Ù
Ø¥Ù†Ø´Ø§Ø¡ bucket Ø¬Ø¯ÙŠØ¯ Ø§Ø³Ù…Ù‡ `documents` Ù„Ù„Ù…Ø±ÙÙ‚Ø§Øª ÙÙŠ Journal Entries

---

## âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©
- âœ… Ø§Ù„Ù€ bucket Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ (`dashboard_assets_20250905_1900`) Ù‡Ùˆ Ù„Ù„Ù€ Dashboard ÙÙ‚Ø·
- âœ… Ù†Ø­ØªØ§Ø¬ bucket Ø¬Ø¯ÙŠØ¯ Ù…Ù†ÙØµÙ„ Ø§Ø³Ù…Ù‡ `documents` Ù„Ù„Ù…Ø±ÙÙ‚Ø§Øª

---

## ğŸ“‹ Ø§Ù„Ø®Ø·ÙˆØ§Øª (Ø¯Ù‚ÙŠÙ‚ØªÙŠÙ†)

### 1ï¸âƒ£ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø§Ù„Ø£Ø®Ø¶Ø± "New bucket" â•
(ÙÙŠ Ø£Ø¹Ù„Ù‰ ÙŠÙ…ÙŠÙ† Ø§Ù„Ø´Ø§Ø´Ø©)

### 2ï¸âƒ£ Ø§Ù…Ù„Ø£ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Create a new bucket                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ Name:                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ documents                       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ Public bucket:                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âŒ OFF (Ø§ØªØ±ÙƒÙ‡ Ù…ÙØ·ÙØ£)            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ File size limit:                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 52428800 bytes                  â”‚ â”‚
â”‚ â”‚ (Ø£Ùˆ Ø§ÙƒØªØ¨: 50 ÙˆØ§Ø®ØªØ± MB)          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ Allowed MIME types:                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ (Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±Øº = Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹)     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚         [Cancel]  [Create bucket]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3ï¸âƒ£ Ø§Ø¶ØºØ· "Create bucket" âœ…

### 4ï¸âƒ£ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ØŒ Ø³ÙŠØ¸Ù‡Ø± bucket Ø¬Ø¯ÙŠØ¯:

```
NAME                              POLICIES  FILE SIZE LIMIT  ALLOWED MIME TYPES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“ dashboard_assets_20250905_1900   4         50 MB          image/*, application/pdf, ...
ğŸ“ documents                        0         50 MB          (all types)
```

---

## ğŸ”’ Ø¥Ø¶Ø§ÙØ© Policies (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - ÙŠÙ…ÙƒÙ† Ù„Ø§Ø­Ù‚Ø§Ù‹)

Ø¨Ø¹Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù€ bucketØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ `documents` â†’ **Policies** â†’ **New policy**

### Policy 1: Upload (Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ÙØ³Ø¬Ù„ÙŠÙ†)
```sql
CREATE POLICY "Authenticated users can upload"
ON storage.objects FOR INSERT
TO authenticated
WITH CHECK (bucket_id = 'documents');
```

### Policy 2: View (Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ÙØ³Ø¬Ù„ÙŠÙ†)
```sql
CREATE POLICY "Authenticated users can view"
ON storage.objects FOR SELECT
TO authenticated
USING (bucket_id = 'documents');
```

### Policy 3: Delete (Ø§Ù„Ù…Ø§Ù„Ùƒ ÙÙ‚Ø·)
```sql
CREATE POLICY "Users can delete own files"
ON storage.objects FOR DELETE
TO authenticated
USING (bucket_id = 'documents' AND auth.uid()::text = owner);
```

---

## âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¬Ø§Ø­

1. **ÙÙŠ Supabase Dashboard:**
   - ÙŠØ¬Ø¨ Ø£Ù† ØªØ±Ù‰ bucket Ø¬Ø¯ÙŠØ¯ Ø§Ø³Ù…Ù‡ `documents`
   - POLICIES = 0 (Ø£Ùˆ 3 Ø¥Ø°Ø§ Ø£Ø¶ÙØª Ø§Ù„Ù€ policies)

2. **ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:**
   - Ø§ÙØªØ­ **Accounting** â†’ **Journal Entries**
   - Ø§ÙØªØ­ Ø£ÙŠ Ù‚ÙŠØ¯
   - Ø§Ø¶ØºØ· **Attachments** tab
   - Ø§Ø¶ØºØ· "Upload File"
   - Ø§Ø®ØªØ± Ù…Ù„Ù PDF Ø£Ùˆ ØµÙˆØ±Ø©
   - ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙØ±ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­! âœ…

---

## ğŸ¯ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©

### Ù‚Ø¨Ù„:
```
âŒ StorageApiError: Bucket not found
```

### Ø¨Ø¹Ø¯:
```
âœ… File uploaded successfully!
âœ… Attachment added to journal entry
âœ… You can view/download the file
```

---

## ğŸ“Š Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©

| Bucket | Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… | Public? | Ø§Ù„Ø­Ø§Ù„Ø© |
|--------|-----------|---------|--------|
| `dashboard_assets_...` | Dashboard assets | âœ… Yes | Ù…ÙˆØ¬ÙˆØ¯ |
| `documents` | Journal attachments | âŒ No | **ÙŠØ¬Ø¨ Ø¥Ù†Ø´Ø§Ø¤Ù‡** |

---

## ğŸš¨ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

1. âœ… **Ù„Ø§ ØªØ­Ø°Ù** Ø§Ù„Ù€ bucket Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ (`dashboard_assets_...`)
2. âœ… **Ø£Ù†Ø´Ø¦ bucket Ø¬Ø¯ÙŠØ¯** Ø§Ø³Ù…Ù‡ `documents`
3. âœ… **Ø§Ø¬Ø¹Ù„Ù‡ Private** (Public = OFF)
4. âœ… **Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù:** 50 MB ÙƒØ§ÙÙŠ
5. âœ… **Policies:** Ø§Ø®ØªÙŠØ§Ø±ÙŠ (ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹)

---

## ğŸŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡

Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø³ÙŠÙƒÙˆÙ† **100% Ø¬Ø§Ù‡Ø²** Ù„Ù„Ø¥Ù†ØªØ§Ø¬! ğŸš€

- âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª ØªØ¹Ù…Ù„
- âœ… Ø±ÙØ¹ Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª ÙŠØ¹Ù…Ù„
- âœ… 0 Ø£Ø®Ø·Ø§Ø¡
- âœ… Production-ready

---

**Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:** Ø¯Ù‚ÙŠÙ‚ØªÙŠÙ† â±ï¸  
**Ø§Ù„ØµØ¹ÙˆØ¨Ø©:** Ø³Ù‡Ù„ Ø¬Ø¯Ø§Ù‹ â­  
**Ø§Ù„ØªØ£Ø«ÙŠØ±:** ÙŠÙÙØ¹Ù‘Ù„ Ø±ÙØ¹ Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª âœ…

